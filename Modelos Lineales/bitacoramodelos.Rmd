---
output:
  pdf_document: 
    toc_depth: 0
    includes:
      in_header: preambulo.tex
      before_body: titulo.tex
documentclass: memoir
classoption: oneside
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(plyr)
library(dplyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
options(max.print="75")
opts_chunk$set(echo=FALSE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)

options(tinytex.verbose = TRUE)
library(readr)


```


```{r}
data <- read_csv("data.csv")
library(xtable)
(data <- tibble(data))
```

Un cuadro con resúmenes de cinco números de al menos dos variables de su tabla de datos. Para ello se decide tomar todas las variables de carácter numérico en un cuadro

```{r}
p <- data %>% tibble() %>% select(is.numeric & !yr_built & !yr_renovated & !view & !waterfront)
a <- t(mapply(p, FUN = summary))

xtable(a)


a <- tibble(Desviacion = mapply(p, FUN = sd), IQR = mapply(p, FUN = IQR))

rownames(a) <- colnames(p)

#Se le pone doble transpuesta porque por algún motivo así acepta el formato
xtable(t(t(a)))
```
Para la tabla de frecuencias

```{r}
#Es la misma tabla de álgebra 1 xd
 tablaDatos <- function(datos, columna){
  x <- as.numeric(datos[[columna]]) #Acá tira warning por NA en el vector, pero no afecta
  x <- x[!is.na(x)] #Aca se arregla
  
  s <- sd(x)
  n <- length(x)

  # Usamos el h mas robusto normal
  h <- 1.06 * min(s, IQR(x)/1.34) * n^(-1/5)
  n <- floor(diff(range(x))/h)

  breaks <- seq(from = min(x), to = max(x), by = (max(x)-min(x))/n) #9 subintervalos
  breaks[1] <- breaks[1]-0.01 #Para que incluya al primer elemento
  
  x<-tibble(variable = x)
  
  tabla <- x %>% group_by(variable) %>% 
    mutate(
      variable = cut(variable, breaks  = breaks)
    ) %>% 
    dplyr::summarise(frequency = n()) %>% 
    mutate(cum_frequency = cumsum(frequency))
  
  tabla$rf <- tabla$frequency/sum(tabla$frequency)
  tabla$'crf(%)' <- cumsum(tabla$rf)*100
  tabla$'rf(%)' <- tabla$rf*100
  colnames(tabla)[1:3]<- c("Intervalo","f","cf")
  tabla<-tabla %>% mutate_if(is.numeric, ~round(., 2))
  
  tabla
 }


#Precio
dt<-tablaDatos(data,2)
xtable(dt)

#Tamano construccion
dt<-tablaDatos(data,11)
xtable(dt)
```


En esta bitácora deberán elaborar e interpretar:


Un gráfico que describa la distribución de una variable cuantitativa.

Dos gráficos que describan la relación (asociación o covariación) de una variable con respecto a otra en su conjunto de datos. Al menos uno de los dos gráficos debe contener una variable categórica.

Un gráfico que muestre la distribución de una variable categórica.


Usen como base lo expuesto en el capítulo 7 del libro R for Data Science. Los gráficos deben contener información relevante para su pregunta de investigación. Todos los gráficos deben ser construidos con ggplot2.


Y ademas:


Dar una descripción del modelo o metodología que se va a utilizar para contestar la pregunta de investigación, fundamentando la escogencia en el análisis descriptivo.

Realizar un primer intento de inferencia a nivel del modelo seleccionado, que permita responder parcialmente la pregunta de investigación

