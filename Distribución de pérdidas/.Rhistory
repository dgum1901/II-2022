(base$Estimated_Dollar_Loss[-is.na(base$Estimated_Dollar_Loss)])
(base$Estimated_Dollar_Loss[is.na(base$Estimated_Dollar_Loss)])
(base$Estimated_Dollar_Loss[-is.na(base$Estimated_Dollar_Loss)])
is.na(base$Estimated_Dollar_Loss)
perd <-base$Estimated_Dollar_Loss
perd[is.na(perd)]
perd[!is.na(perd)]
perd <- perd[!is.na(perd)]
max(perd)
min(perd)
hist(perd)
length(unique(perd))
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(dplyr)
library(plyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- perd[!is.na(perd)]
perd <- base$Estimated_Dollar_Loss
perd <- perd[!is.na(perd)]
hist(perd)
hist(perd,xlim = c(0, 5e5))
max(perd)
hist(perd,xlim = c(0, 5e8))
max(perd)-1
dim(perd)
perd[perd==max(perd)]
which(perd==max(perd))
perd(1296)
perd[1296]
perd
perd[1255:1257]
perd[1295:1297]
perd[1255:1297]
floor(perd[1296])
roof(perd[1296])
trunc(perd[1296])
format(perd[1296])
format(perd[1296], digits = 5)
format(perd[1296], nsmall = 2)
format(perd[1296], scientific = FALSE)
hist(perd,xlim = c(0, 5e7), breaks = 200)
hist(perd,xlim = c(0, 5e7), breaks = 2000)
hist(perd,xlim = c(0, 5e5), breaks = 2000)
hist(perd,xlim = c(0, 5e5), breaks = 200)
mean(perd)
mean(perd) + sd(perd)
out <- mean(perd) + sd(perd)
sum(perd[perd<out])
sum(perd[perd>=out])
sum(perd[perd<out])
sum(perd[perd>=out])
eaks = 200)
sd(perd)
out<- IQR(perd)
out <- mean(perd) + sd(perd)
out<- quantile(perd)
out
out<- quantile(perd, 0.95)
out<- quantile(perd, 0.90)
sum(perd[perd<out])
sum(perd[perd>=out])
sum(perd[perd<out])
sum(perd[perd>=out])
out<- quantile(perd, 0.95) #cuantil del 90 por ciento
sum(perd[perd<out])
sum(perd[perd>=out])
sum(perd[perd<out])
sum(perd[perd>=out])
out<- quantile(perd, 0.99) #cuantil del 90 por ciento
sum(perd[perd<out])
sum(perd[perd>=out])
out<- quantile(perd, 0.99) #cuantil del 90 por ciento
sum(perd[perd<out])
sum(perd[perd>=out])
out<- quantile(perd, 0.90) #cuantil del 90 por ciento
out<- quantile(perd, 0.95) #cuantil del 90 por ciento
sum(perd<out)
sum(perd>=out)
out <- mean(perd) + sd(perd)
out
out<- quantile(perd, 0.95) #cuantil del 90 por ciento
out <- mean(perd) + sd(perd)
base.perd <- base[perd >= out,]
View(base.perd)
sum(perd[perd<out])
sum(perd[perd>=out])
perd
base.perd <- base[perd >= out,]
hist(perd,xlim = c(0, 5e5), breaks = 200)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base [!is.na(perd)]
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base [!is.na(perd)]
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd)]
!is.na(perd)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd)]
base[!is.na(perd)]
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd),]
View(base)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd),]
perd <- perd[!is.na(perd)]
#hist(perd,xlim = c(0, 5e5), breaks = 200)
#out <- mean(perd) + sd(perd)
out<- quantile(perd, 0.95) #cuantil del 90 por ciento
sum(perd[perd<out])
sum(perd[perd>=out])
base.perd <- base[perd >= out,]
View(base.perd)
unique(base$Final_Incident_Type)
class(base$TFS_Alarm_Time)
=======
options(tinytex.verbose = TRUE)
library(readr)
data <- read_csv("data.csv")
min(data$yr_built)
max(data$yr_built)
>>>>>>> Stashed changes
View(base.perd)
<<<<<<< HEAD
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(dplyr)
library(plyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
min(base$Ext_agent_app_or_defer_time)
=======
>>>>>>> f38e37b52105b47cd1275a1ed8b6b09223dacb6f
View(base)
43'5'
43-5
43-7
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(dplyr)
library(plyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
base <- tibble(base)
t1<-head(base[1:5,1:7])
t2<-head(base[1:5,8:14])
t3<-head(base[1:5,15:21])
t4<-head(base[1:5,22:28])
t5<-head(base[1:5,29:35])
t6<-head(base[1:5,36:43])
print.xtable(xtable(t1), file = "t1.txt")
install.packages("xtable")
library(xtable)
print.xtable(xtable(t1), file = "t1.txt")
xtable(t1)
xtable(t1)
xtable(t2)
xtable(base[1:5,1:2])
xtable(base[1:5,1:3])
xtable(base[1:5,4:8])
xtable(base[1:5,4:8])
xtable(base[1:5,4:7])
xtable(base[1:5,8:14])
View(base)
base[is.na(base)]<- 'NA'
is.na(base)
base[is.na(base)]<- 'NA'
View(base)
xtable(base[1:5,8:10])
xtable(base[1:5,11:14])
xtable(base[1:5,11:15])
xtable(base[1:5,11:14])
xtable(base[1:5,11:13])
xtable(base[1:5,11:12])
xtable(base[1:5,13:17])
xtable(base[1:5,13:14])
xtable(base[1:5,15:18])
xtable(base[1:5,15:16])
View(base)
View(base.perd)
tabla <- base.perd
xtable(tabla[1:5,1:3])
xtable(tabla[1:5,1:4])
xtable(tabla[1:5,1:4])
tabla[1:5,1:3]
xtable(tabla[1:5,1:3])
xtable(tabla[1:5,4:6])
View(base.perd)
View(tabla)
View(t2)
tabla <- head(base[1:5,])
View(tabla)
xtable(tabla[1:5,1:3])
xtable(tabla[1:5,4:6])
xtable(tabla[1:5,4:7])
xtable(tabla[1:5,8:11])
xtable(tabla[1:5,12:16])
xtable(tabla[1:5,12:14])
xtable(tabla[1:5,15:120])
xtable(tabla[1:5,15:20])
xtable(tabla[1:5,15:16])
xtable(tabla[1:5,17:20])
xtable(tabla[1:5,21:24])
xtable(tabla[1:5,25:29])
xtable(tabla[1:5,25:30])
xtable(tabla[1:5,25:29])
xtable(tabla[1:5,25:28])
xtable(tabla[1:5,29:32])
xtable(tabla[1:5,29:33])
xtable(tabla[1:5,29:33])
xtable(tabla[1:5,29:32])
xtable(tabla[1:5,29:31])
xtable(tabla[1:5,32:36])
xtable(tabla[1:5,32:35])
xtable(tabla[1:5,32:34])
xtable(tabla[1:5,32:33])
xtable(tabla[1:5,34:37])
xtable(tabla[1:5,34:35])
xtable(tabla[1:5,36:38])
xtable(tabla[1:5,39:43])
xtable(tabla[1:5,39:40])
xtable(tabla[1:5,41:43])
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(dplyr)
library(plyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
library(scales)
options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd),]
perd <- perd[!is.na(perd)]
p <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/columnas.txt',sep = ',', fileEncoding = "UTF-8")
knitr::kable(p, caption = "Descripción completa de la base", longtable = TRUE) %>%
column_spec(2, width = "7cm") %>% footnote(general = 'Fuente: Elaboración propia', general_title = '') %>%
kable_styling(latex_options = c("repeat_header"),
repeat_header_continued = "Continua en siguiente pag",
repeat_header_text = "\\textit{(Continuación)}"
)
out <- quantile(perd, 0.95) #cuantil del 95 por ciento
grafico1 <-
ggplot(base, aes(x = log(Estimated_Dollar_Loss))) +
geom_histogram(color =
"darkblue", fill = "lightblue") + theme_bw() +
labs(
y = "Frecuencia",
x = "Pérdida en escala logarítmica",
title = "Gráfico 1: Histograma en escala logarítmica de las pérdidas",
caption = "Fuente: Elaboración propia"
)
grafico1
base$Extremo <- perd >= out
grafico2 <-
ggplot(data = base) + geom_bar(
mapping = aes(x = Extremo),
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Frecuencia",
x = "Cuantil",
title = "Gráfico 1: Frecuencia del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) +
scale_x_discrete(labels = c("Menor 95%", "Mayor o igual 95%"))
grafico2
df <-
data.frame(
Name = c("Masa cuantil menor a .95", "Masa cuantil mayor o igual a .95"),
Amount = c(sum(perd[perd < out]), sum(perd[perd >= out]))
)
grafico3 <- ggplot(df, aes(x = Name, y = Amount)) + geom_bar(
stat = "identity",
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Masa de la pérdida",
x = "Cuantil",
title = "Gráfico 3: Masa del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) + scale_y_continuous(labels = comma) + scale_x_discrete(limits = df$Name)
grafico3
View(p)
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
require("knitcitations")
require("bibtex")
library(rmdformats)
library(readxl)
library(dplyr)
library(plyr)
library(fOptions)
library(ggplot2)
library(kableExtra)
library(extrafont)
library(scales)
options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
base <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/Fire Incidents Data.csv')
perd <- base$Estimated_Dollar_Loss
#Los elementos de la base donde no se cuantificaron perdidas no interesan
base <- base[!is.na(perd),]
perd <- perd[!is.na(perd)]
p <- read.csv('~/GitHub/II-2022/Distribución de pérdidas/columnas.txt',sep = ',', fileEncoding = "UTF-8")
knitr::kable(p, caption = "Descripción completa de la base", longtable = TRUE) %>%
column_spec(2, width = "7cm") %>% footnote(general = 'Fuente: Elaboración propia', general_title = '') %>%
kable_styling(latex_options = c("repeat_header"),
repeat_header_continued = "Continua en siguiente pag",
repeat_header_text = "\\textit{(Continuación)}"
)
out <- quantile(perd, 0.95) #cuantil del 95 por ciento
grafico1 <-
ggplot(base, aes(x = log(Estimated_Dollar_Loss))) +
geom_histogram(color =
"darkblue", fill = "lightblue") + theme_bw() +
labs(
y = "Frecuencia",
x = "Pérdida en escala logarítmica",
title = "Gráfico 1: Histograma en escala logarítmica de las pérdidas",
caption = "Fuente: Elaboración propia"
)
grafico1
base$Extremo <- perd >= out
grafico2 <-
ggplot(data = base) + geom_bar(
mapping = aes(x = Extremo),
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Frecuencia",
x = "Cuantil",
title = "Gráfico 1: Frecuencia del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) +
scale_x_discrete(labels = c("Menor 95%", "Mayor o igual 95%"))
grafico2
p <-
data.frame(
Name = c("Masa cuantil menor a .95", "Masa cuantil mayor o igual a .95"),
Amount = c(sum(perd[perd < out]), sum(perd[perd >= out]))
)
grafico3 <- ggplot(p, aes(x = Name, y = Amount)) + geom_bar(
stat = "identity",
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Masa de la pérdida",
x = "Cuantil",
title = "Gráfico 3: Masa del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) + scale_y_continuous(labels = comma) + scale_x_discrete(limits = df$Name)
View(p)
out <- quantile(perd, 0.95) #cuantil del 95 por ciento
grafico1 <-
ggplot(base, aes(x = log(Estimated_Dollar_Loss))) +
geom_histogram(color =
"darkblue", fill = "lightblue") + theme_bw() +
labs(
y = "Frecuencia",
x = "Pérdida en escala logarítmica",
title = "Gráfico 1: Histograma en escala logarítmica de las pérdidas",
caption = "Fuente: Elaboración propia"
)
grafico1
base$Extremo <- perd >= out
grafico2 <-
ggplot(data = base) + geom_bar(
mapping = aes(x = Extremo),
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Frecuencia",
x = "Cuantil",
title = "Gráfico 1: Frecuencia del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) +
scale_x_discrete(labels = c("Menor 95%", "Mayor o igual 95%"))
grafico2
p <-
data.frame(
Name = c("Masa cuantil menor a .95", "Masa cuantil mayor o igual a .95"),
Amount = c(sum(perd[perd < out]), sum(perd[perd >= out]))
)
grafico3 <- ggplot(p, aes(x = Name, y = Amount)) + geom_bar(
stat = "identity",
color = c('blue', 'red'),
fill = c('lightblue', 'pink'),
width = 0.5,
na.rm = TRUE
) + theme_bw() +
labs(
y = "Masa de la pérdida",
x = "Cuantil",
title = "Gráfico 3: Masa del estimado de pérdidas de acuerdo al cuantil 0.95",
caption = "Fuente: Elaboración propia"
) + scale_y_continuous(labels = comma) + scale_x_discrete(limits = p$Name)
grafico3
summary(perd)
summary(base)
View(base)
View(base)
max(base$Civilian_Casualties)
hist(base$Number_of_responding_apparatus)
dim(base$Number_of_responding_apparatus)
p<-(base$Number_of_responding_apparatus)
p <- p[!is.na(p)]
!is.na(p)
hist(p)
max(p)
min(p)
class(base$TFS_Alarm_Time)
View(base)
